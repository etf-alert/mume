name: Execute Queued Orders

on:
  schedule:
    # ☀️ 써머타임 (3~11월) → 13:35 UTC = 09:35 ET
    - cron: "35 13 * * 1-5"

    # ❄️ 비써머타임 (11~3월) → 14:35 UTC = 09:35 ET
    - cron: "35 14 * * 1-5"

  workflow_dispatch: {} # 수동 실행용 (테스트)

jobs:
  execute-orders:
    runs-on: ubuntu-latest
    steps:
      - name: Call Render cron API
        run: |
          curl -X POST "${{ secrets.RENDER_CRON_URL }}/cron/execute-orders?secret=${{ secrets.CRON_SECRET }}"
